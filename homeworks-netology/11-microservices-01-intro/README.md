# Ответы на задания 11-microservices-01-intro   

## Задача

Руководство крупного интернет-магазина, у которого постоянно растёт пользовательская база и количество заказов, рассматривает возможность переделки своей внутренней ИТ-системы на основе микросервисов. 

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру. 

Опишите, какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы нужно решить в первую очередь.

## Ответ

При любом процессе оптимизации бизнеса или внедрении новых практик/технологий самое важно понимать - ради чего бизнес это будет делать, какую конкретно задачу решать. В данном случае есть только косвенный показатель (постоянный рост числа заказов и пользователей), зная который можно предполагать мотивы бизнеса, которые сподвигли к мыслям о переходе на иную архитектуру построения приложения.

Думаю, что перед тем, как разговаривать о данных мотивах важно знать конкретику: уровень роста заказов и числа клиентов в периоде времени, что именно не устраивает бизнес или клиентов в настоящее время, сколько стоит поддержка приложения (ФОТ, инфраструктура, найм подрядных команд и пр.), почему мысль именно про микросервисы, а не про оптимизацию текущей архитектуры. Ответив на данные вопросы, то есть проведя предварительный аудит, можно понять целесообразность перехода на микросервисную архитектуру.

Что касается преимуществ, которые приобретет компания при переходе на микросервисную архитектуру, стоит отметить следующие:  
- появится возможность использовать разнообразные технологии, не замыкаясь на нескольких, применяемых в монолите. 
- ошибка в одном из сервисов не будет означать отказа приложения в полном объеме.
- появится возможность простого масштабирования конкретного сервиса с повышенной нагрузкой (например, функционала онлайн оплаты), таким образом не придется тратиться на еще одну ноду для всего приложения.
- упроститься развертывание, до пользователей станут быстрее доступны новые фичи, так как для их публикации не будет необходимости перезаливать все приложение целиком.  

Что же касается недостатков, то для бизнеса, прежде всего, это повышение сложности и стоимости эксплуатации. Больше технологий используешь - больше квалифицированных разнородных специалистов необходимо содержать. Это всегда очень важное обстоятельство, т.к., исходя из опыта могу сказать, что не существует плохих систем или сервисов, существует только стоимость их поддержки и содержания. Это на мой взгляд самая важная административная проблема. С точки зрения техники возникнут проблемы следующего рода:
- для каждого сервиса необходимо поддерживать свою инфраструктуру (как разработки, так и продакшена), она везде будет разной.
- между сервисами необходимо предусматривать и поддерживать взаимодействие. Это регулярный процесс, который важно контролировать.
- каждый из сервисов необходимо мониторить. Некоторые - на предмет технических метрик, некоторые - бизнесовых.
- документации становится больше, соответственно, поддерживать ее в актуальном состоянии сложнее. 

По описанным выше причинам к решению об изменении инфраструктуры приложения нужно подходить осознанно, предварительно проведя комплексный анализ ситуации. В данному случае, если потребность перехода дейтсвительно существует, учитывая, что работать придется с реальным живым бизнесом, а не внедрять с нуля, я бы предложил оценить на каких модулях монолита сосредоточена основная нагрузка (модуль оплаты, корзина, каталог, геоинформационная система) и постарался бы именно их исключать из монолита и создавать отдельный сервис, предусматривая необходимые интеграции. Таким образом, без ущерба бизнесу частями можно перейти на новую архитектуру приложения.  